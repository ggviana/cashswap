(this.webpackJsonpcashswap=this.webpackJsonpcashswap||[]).push([[0],{101:function(n,e,t){n.exports=t.p+"static/media/logo.cc8307fe.svg"},104:function(n){n.exports=JSON.parse('{"GBP":{"name":"British Pound","symbol":"\xa3","code":"GBP","amount":60},"EUR":{"name":"Euro","symbol":"\u20ac","code":"EUR","amount":21.03},"USD":{"name":"American Dollar","symbol":"$","code":"USD","amount":0}}')},116:function(n,e,t){n.exports=t(207)},207:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),c=t(18),o=t.n(c),i=(t(121),t(122),t(14)),l=t(2),u=t(3);function s(){var n=Object(l.a)(["\n      @media (max-width: ","px) {\n        ","\n      }\n    "]);return s=function(){return n},n}function p(){var n=Object(l.a)(["\n      @media (min-width: ","px) {\n        ","\n      }\n    "]);return p=function(){return n},n}function m(){var n=Object(l.a)(["\n      @media "," {\n        ","\n      }\n    "]);return m=function(){return n},n}function f(n){n.when=function(e){return e?n:function(){return""}}}function d(){var n=Object(l.a)(["\n  html {\n    font-family: 'Source Sans Pro', sans-serif;\n    font-size: 16px;\n    color: rgb(1, 1, 1);\n  }\n  \n  body {\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    font-family: inherit;\n    \n    & > div {\n      height: 100%;\n      overflow: auto;\n    }\n  }\n  \n  .exchange-button {\n    display: block;\n    margin: 10px auto;\n    text-align: center;\n  }\n"]);return d=function(){return n},n}var b="#324a5e",h="#3498db",v="#e1e1e1",x=function(n){var e={},t={xs:[null,n.sm-1],sm:[n.sm,n.md-1],md:[n.md,n.lg-1],lg:[n.lg,null]};return Object.keys(t).reduce((function(n,e){var a=t[e].map((function(n,e){return n?0===e?"(min-width: ".concat(n,"px)"):"(max-width: ".concat(n,"px)"):null})).filter((function(n){return"string"===typeof n})).join(" and ");return n[e]=function(){return Object(u.b)(m(),a,u.b.apply(void 0,arguments))},f(n[e]),n}),e),Object.keys(n).reduce((function(e,t){return e[t].up=function(){return Object(u.b)(p(),n[t],u.b.apply(void 0,arguments))},e[t].down=function(){return Object(u.b)(s(),n[t],u.b.apply(void 0,arguments))},f(e[t].up),f(e[t].down),e}),e),e}({xs:576,sm:768,md:992,lg:1280}),g=Object(u.a)(d()),E=t(7),y=t(209),w=t(99),O=t.n(w);function j(n){return O()(n).format("0.00[00]")}function S(){var n=Object(l.a)(["\n  height: 250px;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  text-shadow: 1px 1px 4px rgba(150, 150, 150, 1);\n  user-select: none;\n  \n  span {\n    font-size: 30px;\n    \n    &:first-child {\n      font-size: 50px;  \n    }\n  }\n"]);return S=function(){return n},n}var C=u.c.div(S());function k(n){var e=n.balance,t=parseInt(e.amount),a=e.amount-t;return r.a.createElement(C,null,r.a.createElement("div",null,r.a.createElement("span",null,e.symbol," ",t),r.a.createElement("span",null,j(a).replace(/^0\./,".")),r.a.createElement("div",null,e.code," - ",e.name)))}function R(){var n=Object(l.a)(["\n  background-color: #21D4FD;\n  background-image: linear-gradient(19deg, #21D4FD 0%, #B721FF 100%);\n  border-radius: 6px;\n  \n  .ant-carousel {\n    color: white;\n    \n    .slick-dots {\n      margin-bottom: 20px;\n      \n      li {\n        margin: 0 5px;\n        \n        button {\n          border-radius: 50%;\n          height: 10px;\n          width: 10px;\n        }     \n      }\n    }\n  }\n"]);return R=function(){return n},n}var I=u.c.div(R());function z(n){var e=n.values;return r.a.createElement(I,null,r.a.createElement(y.a,{draggable:!0},Object.values(e).map((function(n){return r.a.createElement(k,{balance:n,key:n.code})}))))}function N(){var n=Object(l.a)(["\n  margin: 0 auto;\n  max-width: 512px;\n  padding-bottom: 20px;\n  padding-top: 20px;\n"]);return N=function(){return n},n}var B=u.c.div(N());function U(){var n=Object(l.a)(["max-width: 1140px;"]);return U=function(){return n},n}function X(){var n=Object(l.a)(["max-width: 960px;"]);return X=function(){return n},n}function P(){var n=Object(l.a)(["max-width: 720px;"]);return P=function(){return n},n}function D(){var n=Object(l.a)(["max-width: 540px;"]);return D=function(){return n},n}function F(){var n=Object(l.a)(["\n  padding-right: 15px;\n  padding-left: 15px;\n  margin-right: auto;\n  margin-left: auto;\n  width: 100%;\n\n  ","\n  ","\n  ","\n  ","\n"]);return F=function(){return n},n}var T=u.c.div(F(),x.xs.up(D()),x.sm.up(P()),x.md.up(X()),x.lg.up(U())),J=t(111);function A(){var n=Object(l.a)(["\n  border: 1px solid ",";\n  border-radius: 25px;\n  box-shadow: 2px 2px 5px 0 rgba(0, 0, 0, 0.1);\n  transition: 300ms;\n  \n  &:focus-within {\n    border-color: ",";\n  }\n  \n  input {\n    border: none;\n    flex-grow: 1;\n    font-size: 1.5rem;\n    outline: 0;\n    width: 100%;\n    -moz-appearance: textfield;\n    \n    &::-webkit-outer-spin-button,\n    &::-webkit-inner-spin-button {\n      /* display: none; <- Crashes Chrome on hover */\n      -webkit-appearance: none;\n      margin: 0; /* <-- Apparently some margin are still there even though it's hidden */\n    }\n  }\n  \n  .flex {\n    align-items: baseline;\n    display: flex;\n    justify-content: space-between;\n    font-size: 0.75rem;\n    padding: 0.75rem 1rem;\n  }\n"]);return A=function(){return n},n}var G=u.c.div(A(),v,h);function W(n){var e=n.currentCurrency,t=n.value,a=n.onValueChange,c=n.onCurrencySelect,o=(n.type,n.currencies),i=n.other;return r.a.createElement(G,null,r.a.createElement("div",{className:"flex"},r.a.createElement("div",null,e.name),r.a.createElement("div",null,"Balance: ",j(e.amount),r.a.createElement("br",null))),r.a.createElement("div",{className:"flex"},r.a.createElement(J.a,{value:t,onChange:a,placeholder:"0.00",min:0,onKeyPress:function(n){45===(n.which?n.which:n.keyCode)&&(n.preventDefault(),n.stopPropagation())}}),r.a.createElement(K,{balances:o,except:i,value:e.code,onChange:c})))}function V(){var n=Object(l.a)(["\n  background-color: white;\n  border: 1px solid ",";\n  border-radius: 25px;\n  font-size: 1rem;\n  padding: 5px 20px;\n  /* for Firefox */\n  -moz-appearance: none;\n  /* for Chrome */\n  -webkit-appearance: none;\n  outline: 0;\n  //width: 50px;\n  &:focus {\n    border-color: ",";\n  }\n"]);return V=function(){return n},n}var $=u.c.select(V(),v,h);function K(n){var e=n.except,t=n.balances,a=n.value,c=n.onChange,o=Object.values(t).filter((function(n){return n.code!==e}));return r.a.createElement($,{value:a,onChange:function(n){return c(n.target.value)}},o.map((function(n){return r.a.createElement("option",{value:n.code,key:n.code,label:n.code},n.code)})))}function L(){var n=Object(l.a)(["\n  display: block;\n  cursor: pointer;\n  font-size: 24px;\n  text-align: center;\n  padding: 5px 0;\n"]);return L=function(){return n},n}var q=u.c.span(L());function H(n){var e=n.onSwap;return r.a.createElement(q,{onClick:e},"\u2193")}function M(){var n=Object(l.a)(["\n  display: flex;\n  font-size: 0.75rem;\n  justify-content: space-between;\n  padding: 0 15px;\n  margin: 10px 0 30px;\n"]);return M=function(){return n},n}var Q=u.c.div(M());function Y(n){var e=n.from,t=n.to,a=n.rate;return r.a.createElement(Q,null,r.a.createElement("span",null,"Exchange rate: "),r.a.createElement("span",null,e.symbol,"1 = ",t.symbol,j(a)))}var Z=t(101),_=t.n(Z);function nn(){var n=Object(l.a)(["\n  img {\n    max-width: 26px;\n    display: inline-block;\n  }\n  \n  h1 {\n    color: ",";\n    display: inline-block;\n    font-size: 16px;\n    font-weight: lighter;\n    margin: 0 10px;\n  }\n  \n  "," {\n    display: flex;\n    align-items: center;\n    padding: 20px 15px;\n    user-select: none;\n  }\n  \n  a {\n    display: flex;\n  }\n"]);return nn=function(){return n},n}var en=u.c.header(nn(),b,T);function tn(){return r.a.createElement(en,null,r.a.createElement(T,null,r.a.createElement(i.b,{to:"/"},r.a.createElement("img",{src:_.a,alt:"Cashswap"}),r.a.createElement("h1",null,"Cashswap"))))}var an=t(21);function rn(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  \n  main {\n    flex-grow: 1;\n    padding: 30px 0;\n  }\n"]);return rn=function(){return n},n}var cn=u.c.div(rn());function on(n){var e=n.children,t=n.path,a=n.exact,c=void 0!==a&&a,o=n.render;return r.a.createElement(an.a,{path:t,exact:c,render:function(n){return r.a.createElement(cn,null,r.a.createElement(mn,{type:"/"===n.match.path?"SlideOut":"SlideIn"},r.a.createElement("main",null,"function"===typeof o?o(n):e)))}})}var ln=t(103),un=t.n(ln);function sn(){var n=Object(l.a)(["\n  .SlideIn-appear {\n    transform: translateX(30px);\n    opacity: 0;\n  }\n  \n  .SlideIn-appear.SlideIn-appear-active {\n    opacity: 1;\n    transform: translateX(0);;\n    transition: all 0.6s linear;\n  }\n  \n  .SlideIn-enter {\n      opacity: 0;\n      transform: translateX(30px);\n  }\n  \n  .SlideIn-enter.SlideIn-enter-active {\n      opacity: 1;\n      transform: translateX(0);\n      transition: all 0.2s linear 0.4s;\n  }\n  \n  .SlideIn-leave {\n      opacity: 1.0;\n      transform: translateX(0);\n  }\n  \n  .SlideIn-leave.SlideIn-leave-active {\n      opacity: 0;\n      position: absolute;\n      width: 100%;\n      transform: translateX(-30px);\n      transition: all 0.2s linear;\n  }\n  \n  .SlideOut-appear {\n    transform: translateX(-30px);\n    opacity: 0;\n  }\n  \n  .SlideOut-appear.SlideOut-appear-active {\n    opacity: 1;\n    transform: translateX(0);\n    transition: all 0.6s linear;\n  }\n  \n  .SlideOut-enter {\n      opacity: 0;\n      transform: translateX(-30px);\n  }\n  \n  .SlideOut-enter.SlideOut-enter-active {\n      opacity: 1;\n      transform: translateX(0);\n      transition: all 0.2s linear 0.4s;\n  }\n  \n  .SlideOut-leave {\n      opacity: 1.0;\n      transform: translateX(0);\n  }\n  \n  .SlideOut-leave.SlideOut-leave-active {\n      opacity: 0;\n      position: absolute;\n      width: 100%;\n      transform: translateX(30px);\n      transition: all 0.2s linear;\n  }\n"]);return sn=function(){return n},n}var pn=Object(u.c)(un.a)(sn());function mn(n){var e=n.children,t=n.type;return r.a.createElement(pn,{transitionAppear:!0,transitionAppearTimeout:600,transitionEnterTimeout:600,transitionLeaveTimeout:200,transitionName:t},e)}var fn=t(104),dn=t(23),bn=t.n(dn),hn=t(105),vn=t(106),xn=t(107),gn=t.n(xn),En=function(){function n(e){Object(hn.a)(this,n);var t=function(){try{return JSON.parse(window.localStorage.getItem("balances"))}catch(n){return null}}();this.balances=t||e,yn(this.balances)}return Object(vn.a)(n,[{key:"fetchBalances",value:function(){return bn.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",gn()({},this.balances));case 1:case"end":return n.stop()}}),null,this)}},{key:"exchange",value:function(e){var t,a,r,c;return bn.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.from,a=e.to,r=e.amount,n.CURRENCIES.includes(t)){o.next=5;break}throw new Error("Currency not available. Received ".concat(t));case 5:if(n.CURRENCIES.includes(a)){o.next=7;break}throw new Error("Currency not available. Received ".concat(a));case 7:if(!(r>this.balances[t].amount)){o.next=9;break}throw new Error("Not enough balance.");case 9:return o.next=11,bn.a.awrap(this.getRate({from:t,to:a}));case 11:return c=o.sent,this.balances[t].amount-=r,this.balances[a].amount+=r*c,yn(this.balances),o.next=17,bn.a.awrap(new Promise((function(n){return window.setTimeout(n,2e3)})));case 17:case"end":return o.stop()}}),null,this)}},{key:"getRate",value:function(e){var t,a,r,c;return bn.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.from,a=e.to,n.CURRENCIES.includes(t)){o.next=5;break}throw new Error("Currency not available. Received ".concat(t));case 5:if(n.CURRENCIES.includes(a)){o.next=9;break}throw new Error("Currency not available. Received ".concat(a));case 9:if(t!==a){o.next=11;break}return o.abrupt("return",1);case 11:return o.next=13,bn.a.awrap(fetch("https://api.exchangeratesapi.io/latest?base=".concat(t)));case 13:return r=o.sent,o.next=16,bn.a.awrap(r.json());case 16:return c=o.sent,o.abrupt("return",c.rates[a]);case 18:case"end":return o.stop()}}))}}]),n}();function yn(n){window.localStorage.setItem("balances",JSON.stringify(n))}En.CURRENCIES=["USD","EUR","GBP"];var wn=new En(fn),On=Object(a.createContext)(void 0);function jn(){return Object(a.useContext)(On)}var Sn=t(210),Cn=t(211);function kn(){var n=jn(),e=Object(E.a)(n,2),t=e[0],a=e[1];return r.a.createElement(on,{path:"/",exact:!0},r.a.createElement(T,null,r.a.createElement(B,null,a?r.a.createElement(Sn.a,null):r.a.createElement(z,{values:t}),r.a.createElement(i.b,{to:"/exchange",className:"exchange-button"},r.a.createElement(Cn.a,{type:"primary",shape:"round",icon:"swap",size:"large",style:{maxWidth:300,width:"100%"}},"Exchange")))))}var Rn=t(110),In=t(212);function zn(){var n=jn(),e=Object(E.a)(n,3),t=e[0],c=e[1],o=e[2],l=Object(a.useState)(!1),u=Object(E.a)(l,2),s=u[0],p=u[1],m=Object(a.useState)(""),f=Object(E.a)(m,2),d=f[0],b=f[1],h=Object(a.useState)(""),v=Object(E.a)(h,2),x=v[0],g=v[1],y=function(n,e){var t=Object(a.useState)(n),r=Object(E.a)(t,2),c=r[0],o=r[1],i=Object(a.useState)(e),l=Object(E.a)(i,2),u=l[0],s=l[1];return{from:c,setFrom:o,to:u,setTo:s,toggle:function(){o(u),s(c)}}}("GBP","EUR"),w=y.from,O=y.setFrom,S=y.to,C=y.setTo,k=y.toggle,R=function(n,e){var t=Object(a.useState)(null),r=Object(E.a)(t,2),c=r[0],o=r[1];return Object(a.useEffect)((function(){wn.getRate({from:n,to:e}).then(o)}),[n,e]),c}(w,S),I=function(){b(""),g("")},z="number"!==typeof d&&0!==d||d>t[w].amount;return r.a.createElement(on,{path:"/exchange"},r.a.createElement(T,null,r.a.createElement(i.b,{to:"/"},r.a.createElement(Cn.a,{type:"ghost"},r.a.createElement(Rn.a,{type:"left"}),"Back")),r.a.createElement(B,null,c?r.a.createElement(Sn.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{currentCurrency:t[w],value:d,onValueChange:function(n){"string"===typeof n?I():(b(n),g(j(R*n)))},onCurrencySelect:function(n){O(n),wn.getRate({from:n,to:S}).then((function(n){g(j(n*d))}))},currencies:t,other:S}),r.a.createElement(H,{onSwap:function(){k(),wn.getRate({from:S,to:w}).then((function(n){g(j(n*d))}))}}),r.a.createElement(W,{currentCurrency:t[S],value:x,onValueChange:function(n){"string"===typeof n?I():(g(n),b(j(n/R)))},onCurrencySelect:function(n){C(n),wn.getRate({from:w,to:n}).then((function(n){b(j(x/n))}))},currencies:t,other:w}),r.a.createElement(Y,{from:t[w],to:t[S],rate:j(R)}),r.a.createElement(In.a,{type:"flex",justify:"center"},r.a.createElement(Cn.a,{type:"primary",size:"large",shape:"round",onClick:function(){z||(p(!0),wn.exchange({from:w,to:S,amount:d}).then(o).then(I).finally((function(){return p(!1)})))},loading:s,disabled:z,style:{maxWidth:300,width:"100%"}},"Swap"))))))}var Nn=function(){var n=function(){var n=Object(a.useState)(null),e=Object(E.a)(n,2),t=e[0],r=e[1],c=Object(a.useCallback)((function(){wn.fetchBalances().then(r)}),[]);return Object(a.useEffect)(c,[c]),[t,null===t,c]}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement(On.Provider,{value:n},r.a.createElement(i.a,{basename:"/cashswap"},r.a.createElement(tn,null),r.a.createElement(zn,null),r.a.createElement(kn,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Nn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[116,1,2]]]);
//# sourceMappingURL=main.283a94a1.chunk.js.map